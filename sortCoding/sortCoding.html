<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    //reduce(previousValue, currentValue, index, array)
    var sum = [0, 1, 2, 3].reduce(function(acc, val) {
        return acc + val;
    }, 0);
    console.log(sum);
    // 6
    var list1 = [[0, 1], [2, 3], [4, 5]];
    var list2 = [0, [1, [2, [3, [4, [5, [6]]]]]]];
    var list3 = [[1],[[2]],[[[3]]]];
    // const flatten = (arr) => {
    //     return arr.reduce(
    //         (acc, val) => {
    //         return acc.concat(Array.isArray(val) ? flatten(val) : val)
    //     }, []);
    // };
    // console.log(flatten(list1));
    // // [0, 1, 2, 3, 4, 5]
    // console.log(flatten(list2));
    // // [ 0, 1, 2, 3, 4, 5, 6 ]

    //数组遍历
    const flattenList = function (arr) {
        return arr.reduce(function (acc,val) {
            return acc.concat(Array.isArray(val) ? flattenList(val) : val)
        }, []);
    };
    console.log(flattenList(list1));
    console.log(flattenList(list2));
    console.log(flattenList(list3));

    //数组去重
    Array.prototype.unique3 = function(){
        var res = [];
        var json = {};
        for(var i = 0; i < this.length; i++){
            if(!json[this[i]]){
                res.push(this[i]);
                json[this[i]] = 1;
            }
        }
        return res;
    };
    var arr = [112,112,34,'你好',112,112,34,'你好','str','str1'];
    console.log(arr.unique3());

</script>
</body>
</html>